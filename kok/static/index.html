<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tayfa â€” Orchestrator</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="icon" type="image/png" href="/static/tayfa-icon.png">
    <link rel="stylesheet" href="/static/css/themes.css">
    <link rel="stylesheet" href="/static/css/layout.css">
    <link rel="stylesheet" href="/static/css/screens.css">
</head>
<body>

<!-- Project Picker -->
<div class="project-picker" id="projectPicker">
    <div class="project-picker-card">
        <button class="project-picker-close" id="projectPickerClose" onclick="tryCloseProjectPicker()" title="Close">Ã—</button>
        <div class="project-picker-logo">
            <h1><span>Tayfa</span></h1>
        </div>
        <h2>Select project</h2>
        <div class="project-list" id="projectList">
            <div class="project-empty">
                <div class="project-empty-icon">ğŸ“‚</div>
                <p>Loading...</p>
            </div>
        </div>
        <div class="project-picker-actions">
            <button class="btn primary" onclick="openFolderDialog()">ğŸ“ Open folder</button>
            <button class="btn" onclick="openFolderManual()">âœï¸ Enter path</button>
            <button class="btn" id="projectPickerCancel" onclick="tryCloseProjectPicker()">Cancel</button>
        </div>
    </div>
</div>

<!-- Main App Container -->
<div id="mainApp">

<!-- Claude API Warning Banner -->
<div id="claude-api-warning-banner" role="alert">
    <span>âš ï¸ Warning: Claude API is unreachable. Tasks will fail until it is restored.</span>
    <button class="banner-dismiss" onclick="document.getElementById('claude-api-warning-banner').classList.remove('visible'); document.getElementById('claude-api-warning-banner').style.display='none';" title="Dismiss">âœ•</button>
</div>

<!-- Header -->
<div class="header">
    <div class="header-left">
        <h1><span>Tayfa</span></h1>
        <div class="current-project" id="currentProjectBadge" onclick="switchProject()" title="Switch project">
            <span class="project-icon">ğŸ“</span>
            <span class="project-name" id="currentProjectName">â€”</span>
        </div>
        <button class="btn sm" id="btnNewWindow" onclick="openProjectInNewWindow()" title="Open project in new window">ğŸªŸ New Window</button>
    </div>
    <div class="status-bar">
        <div class="status-item">
            <span class="status-dot off" id="wslDot"></span>
            Claude API: <span id="wslStatus">off</span>
        </div>
        <div class="status-item">
            <span class="status-dot off" id="apiDot"></span>
            API: <span id="apiStatus">off</span>
        </div>
        <div class="status-item git-status-indicator" id="gitStatusIndicator" title="Git status">
            <span class="git-branch-icon-header">â‡</span>
            <span id="gitBranchHeader">â€”</span>
            <span class="git-dot" id="gitDotHeader"></span>
            <button class="btn-git-init-header" id="gitInitBtnHeader"
                    onclick="initGitRepo(); event.stopPropagation();"
                    style="display:none;"
                    title="Initialize Git repository">Init</button>
        </div>
        <div class="status-item" id="runningTasksIndicator" style="display:none; cursor:pointer;" onclick="showTasksBoard()">
            <span class="status-dot loading"></span>
            <span id="runningTasksCount">0</span> tasks running
        </div>
        <select id="themeSelect" onchange="changeTheme(this.value)" class="theme-select">
            <option value="dark">ğŸŒ™ Dark</option>
            <option value="light">â˜€ï¸ Light</option>
            <option value="blue">ğŸŒŠ Blue</option>
            <option value="girly">ğŸ’– Girly</option>
        </select>
        <button class="btn success btn-start-server" id="btnStartServer" onclick="startServer()">Start server</button>
        <button class="btn danger" id="btnStopServer" onclick="stopServer()" style="display:none;">Stop</button>
        <button class="btn primary" onclick="ensureAgents()">Ensure agents</button>
        <button class="btn" onclick="refreshAll()">Refresh</button>
        <button class="settings-btn" onclick="toggleSettingsDropdown(event)" title="Settings">âš™ï¸</button>
        <!-- Settings Dropdown -->
        <div class="settings-dropdown" id="settingsDropdown">
            <div class="settings-item" onclick="switchProject()">
                <span>ğŸ“</span> Switch project
            </div>
            <div class="settings-item" onclick="openProjectInNewWindow()">
                <span>ğŸªŸ</span> New Window
            </div>
            <div class="settings-item" onclick="showSettingsScreen()">
                <span>ğŸ¨</span> Appearance
            </div>
            <div class="settings-item" onclick="ensureAgents()">
                <span>ğŸ”„</span> Restart agents
            </div>
            <div class="settings-item danger" onclick="killAllAgents()">
                <span>ğŸ’€</span> Kill all agents
            </div>
            <div class="settings-divider"></div>
            <div class="settings-item danger" onclick="stopServer()">
                <span>âŒ</span> Stop server
            </div>
        </div>
    </div>
</div>

<!-- Main -->
<div class="main">
    <!-- Sidebar -->
    <div class="sidebar">
        <!-- Agents (Employees) -->
        <div class="sidebar-section">
            <h3>Employees</h3>
            <ul class="agent-list" id="agentList">
                <li class="empty-state">Loading...</li>
            </ul>
        </div>

        <!-- Navigation -->
        <div class="sidebar-section">
            <h3>Navigation</h3>
            <div style="display: flex; flex-direction: column; gap: 6px;">
                <button class="btn primary" onclick="showTasksBoard()">Task board</button>
                <button class="btn" onclick="showBacklogScreen()">ğŸ“‹ Backlog</button>
                <button class="btn" onclick="showOldTasksBoard()">Tasks (tasks.md)</button>
                <button class="btn" onclick="showSettingsScreen()">âš™ï¸ Settings</button>
            </div>
        </div>

        <!-- Git Section -->
        <div class="sidebar-section" id="gitSection">
            <h3>Git</h3>
            <div id="gitStatusContainer">
                <div class="git-unavailable">
                    <div class="icon">â³</div>
                    <p>Loading...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Content -->
    <div class="content" id="contentArea">
        <!-- Welcome Screen -->
        <div class="welcome" id="welcomeScreen">
            <h2>Tayfa Orchestrator</h2>
            <p>Multi-agent system on Claude Code.<br>Start the server, check agents and begin working.</p>
            <div class="actions">
                <button class="btn primary" onclick="showTasksBoard()">Task board</button>
                <button class="btn" onclick="startServer()">Start server</button>
                <button class="btn" onclick="ensureAgents()">Ensure agents</button>
            </div>
        </div>

        <!-- Tasks Board Screen (NEW â€” kanban) -->
        <div id="tasksBoardScreen" style="display:none; flex-direction:column; height:100%; overflow:hidden;">
            <div class="content-header">
                <h2>Task board</h2>
                <div style="display:flex; gap:8px; align-items:center;">
                    <div class="max-concurrent-inline">
                        <label>Max tasks in progress:</label>
                        <input type="number" id="maxConcurrentInput" value="5" min="1" max="50">
                    </div>
                    <button class="btn sm primary" onclick="showCreateSprintModal()">+ Sprint</button>
                    <button class="btn sm" onclick="showCreateTaskModal()">+ Task</button>
                    <button class="btn sm" onclick="showCreateBacklogModal()">+ Backlog</button>
                    <button class="btn sm" onclick="refreshTasksBoardNew()">Refresh</button>
                </div>
            </div>
            <div class="tasks-board-wrap" id="tasksBoardWrap">
                <div class="empty-state">Loading...</div>
            </div>
        </div>

        <!-- Old Tasks Board Screen (tasks.md) -->
        <div id="tasksScreen" style="display:none; flex-direction:column; height:100%; overflow:hidden;">
            <div class="content-header">
                <h2>Tasks (tasks.md)</h2>
                <button class="btn sm" onclick="refreshOldTasksBoard()">Refresh</button>
            </div>
            <div style="flex:1; overflow-y:auto; padding:20px 24px;">
                <pre id="oldTasksBoardContent" style="white-space:pre-wrap; word-wrap:break-word; font-family:var(--mono); font-size:13px; color:var(--text); margin:0;"></pre>
            </div>
        </div>

        <!-- Chat Screen -->
        <div id="chatScreen" style="display:none; flex-direction:column; height:100%;">
            <div class="content-header">
                <div><h2 id="chatAgentName">â€”</h2></div>
                <div style="display:flex; gap:8px;">
                    <button class="btn sm" onclick="clearChatHistory()">Clear history</button>
                    <button class="btn sm" onclick="resetCurrentAgent()">Reset memory</button>
                    <button class="btn sm danger" onclick="deleteCurrentAgent()">Delete</button>
                </div>
            </div>
            <div class="chat-area" id="chatArea"></div>
            <div class="typing-indicator" id="typingIndicator"><span></span><span></span><span></span></div>
            <div class="input-area">
                <textarea id="promptInput" placeholder="Enter message for agent..." rows="1"
                    onkeydown="handleKeyDown(event)" oninput="autoGrow(this)"></textarea>
                <button class="btn primary" id="btnSend" onclick="sendPrompt()">Send</button>
            </div>
        </div>

        <!-- Backlog Screen -->
        <div id="backlogScreen" style="display:none; flex-direction:column; height:100%; overflow:hidden;">
            <div class="content-header">
                <h2>ğŸ“‹ Backlog</h2>
                <div style="display:flex; gap:8px; align-items:center;">
                    <select id="backlogFilterPriority" onchange="refreshBacklog()" style="padding:6px 10px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-size:13px;">
                        <option value="">All priorities</option>
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                    <label style="display:flex; align-items:center; gap:6px; cursor:pointer;">
                        <input type="checkbox" id="backlogFilterNextSprint" onchange="refreshBacklog()" style="accent-color:var(--accent);">
                        <span style="font-size:13px; color:var(--text);">Only "Add to next sprint"</span>
                    </label>
                    <button class="btn sm" onclick="refreshBacklog()">Refresh</button>
                </div>
            </div>
            <div style="flex:1; overflow-y:auto; padding:20px 24px;">
                <div id="backlogContainer" class="backlog-grid">
                    <div class="empty-state">Loading...</div>
                </div>
            </div>
        </div>

        <!-- Settings Screen -->
        <div id="settingsScreen" style="display:none; flex-direction:column; height:100%;">
            <div class="content-header">
                <h2>âš™ï¸ Settings</h2>
            </div>
            <div style="flex:1; overflow-y:auto; padding:24px;">
                <div style="max-width:600px;">
                    <!-- Theme -->
                    <div style="background:var(--bg-card); border:1px solid var(--border); border-radius:var(--radius); padding:20px; margin-bottom:16px;">
                        <h3 style="font-size:14px; color:var(--text-bright); margin-bottom:12px;">ğŸ¨ Theme</h3>
                        <div style="display:flex; gap:12px; flex-wrap:wrap;">
                            <label style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:10px 16px; background:var(--bg-input); border:1px solid var(--border); border-radius:8px; transition:all 0.15s;" class="theme-option" data-theme="dark">
                                <input type="radio" name="settingsTheme" value="dark" style="accent-color:var(--accent);">
                                <span>ğŸŒ™ Dark</span>
                            </label>
                            <label style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:10px 16px; background:var(--bg-input); border:1px solid var(--border); border-radius:8px; transition:all 0.15s;" class="theme-option" data-theme="light">
                                <input type="radio" name="settingsTheme" value="light" style="accent-color:var(--accent);">
                                <span>â˜€ï¸ Light</span>
                            </label>
                            <label style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:10px 16px; background:var(--bg-input); border:1px solid var(--border); border-radius:8px; transition:all 0.15s;" class="theme-option" data-theme="blue">
                                <input type="radio" name="settingsTheme" value="blue" style="accent-color:var(--accent);">
                                <span>ğŸŒŠ Blue</span>
                            </label>
                            <label style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:10px 16px; background:var(--bg-input); border:1px solid var(--border); border-radius:8px; transition:all 0.15s;" class="theme-option" data-theme="girly">
                                <input type="radio" name="settingsTheme" value="girly" style="accent-color:var(--accent);">
                                <span>ğŸ’– Pink</span>
                            </label>
                        </div>
                    </div>

                    <!-- Server information -->
                    <div style="background:var(--bg-card); border:1px solid var(--border); border-radius:var(--radius); padding:20px; margin-bottom:16px;">
                        <h3 style="font-size:14px; color:var(--text-bright); margin-bottom:12px;">ğŸ–¥ï¸ Server</h3>
                        <div style="display:flex; flex-direction:column; gap:10px;">
                            <div style="display:flex; justify-content:space-between; align-items:center;">
                                <span style="color:var(--text-dim); font-size:13px;">Orchestrator port</span>
                                <span id="settingsPort" style="font-family:var(--mono); color:var(--text); font-size:13px;">â€”</span>
                            </div>
                            <div style="display:flex; justify-content:space-between; align-items:center;">
                                <span style="color:var(--text-dim); font-size:13px;">Interface language</span>
                                <span id="settingsLanguage" style="color:var(--text); font-size:13px;">â€”</span>
                            </div>
                        </div>
                    </div>

                    <!-- Auto-start -->
                    <div style="background:var(--bg-card); border:1px solid var(--border); border-radius:var(--radius); padding:20px; margin-bottom:16px;">
                        <h3 style="font-size:14px; color:var(--text-bright); margin-bottom:12px;">ğŸš€ Automation</h3>
                        <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                            <input type="checkbox" id="settingsAutoOpen" style="accent-color:var(--accent); width:18px; height:18px;" onchange="saveSettingAutoOpen(this.checked)">
                            <div>
                                <div style="font-size:13px; color:var(--text);">Open browser on startup</div>
                                <div style="font-size:11px; color:var(--text-dim);">Automatically open web interface on server startup</div>
                            </div>
                        </label>
                        <label style="display:flex; align-items:center; gap:10px; cursor:pointer; margin-top:12px;">
                            <input type="checkbox" id="settingsAutoLaunch" style="accent-color:var(--accent); width:18px; height:18px;" onchange="saveSettingAutoLaunch(this.checked)">
                            <div>
                                <div style="font-size:13px; color:var(--text);">Auto-launch sprints</div>
                                <div style="font-size:11px; color:var(--text-dim);">Automatically execute all tasks in sprints marked as "Ready to execute"</div>
                            </div>
                        </label>
                    </div>

                    <!-- Tasks -->
                    <div style="background:var(--bg-card); border:1px solid var(--border); border-radius:var(--radius); padding:20px; margin-bottom:16px;">
                        <h3 style="font-size:14px; color:var(--text-bright); margin-bottom:12px;">ğŸ“‹ Tasks</h3>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <span style="color:var(--text-dim); font-size:13px;">Max concurrent tasks:</span>
                            <input type="number" id="settingsMaxTasks" min="1" max="50" value="5"
                                style="width:60px; padding:6px 10px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-family:var(--mono); font-size:13px; text-align:center;"
                                onchange="saveSettingMaxTasks(this.value)">
                        </div>
                    </div>

                    <!-- Git / GitHub -->
                    <div style="background:var(--bg-card); border:1px solid var(--border); border-radius:var(--radius); padding:20px;">
                        <h3 style="font-size:14px; color:var(--text-bright); margin-bottom:12px;">ğŸ”§ Git / GitHub</h3>
                        <div style="display:flex; flex-direction:column; gap:12px;">
                            <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
                                <div>
                                    <label style="display:block; color:var(--text-dim); font-size:12px; margin-bottom:4px;">Name (user.name)</label>
                                    <input type="text" id="settingsGitUserName" placeholder="Your Name"
                                        style="width:100%; padding:8px 12px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-size:13px;"
                                        onchange="saveSettingGit()">
                                </div>
                                <div>
                                    <label style="display:block; color:var(--text-dim); font-size:12px; margin-bottom:4px;">Email (user.email)</label>
                                    <input type="email" id="settingsGitUserEmail" placeholder="you@example.com"
                                        style="width:100%; padding:8px 12px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-size:13px;"
                                        onchange="saveSettingGit()">
                                </div>
                            </div>
                            <div>
                                <label style="display:block; color:var(--text-dim); font-size:12px; margin-bottom:4px;">Default branch</label>
                                <input type="text" id="settingsGitDefaultBranch" placeholder="main"
                                    style="width:100%; padding:8px 12px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-size:13px;"
                                    onchange="saveSettingGit()">
                            </div>
                            <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px;">
                                <div>
                                    <label style="display:block; color:var(--text-dim); font-size:12px; margin-bottom:4px;">GitHub Owner (username or org)</label>
                                    <input type="text" id="settingsGitHubOwner" placeholder="username"
                                        style="width:100%; padding:8px 12px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-family:var(--mono); font-size:12px;"
                                        onchange="saveSettingGit()">
                                </div>
                                <div>
                                    <label style="display:block; color:var(--text-dim); font-size:12px; margin-bottom:4px;">Repo Name (this project)</label>
                                    <input type="text" id="settingsGitRepoName" placeholder="my-project"
                                        style="width:100%; padding:8px 12px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-family:var(--mono); font-size:12px;"
                                        onchange="saveSettingRepoName()">
                                </div>
                            </div>
                            <div>
                                <label style="display:block; color:var(--text-dim); font-size:12px; margin-bottom:4px;">GitHub Token (Personal Access Token)</label>
                                <input type="password" id="settingsGitHubToken" placeholder="ghp_xxxxxxxxxxxx"
                                    style="width:100%; padding:8px 12px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-family:var(--mono); font-size:12px;"
                                    onchange="saveSettingGit()">
                                <div style="font-size:10px; color:var(--text-dim); margin-top:4px;">
                                    Token is needed for push/PR/auto repo creation. Create at <a href="https://github.com/settings/tokens" target="_blank" style="color:var(--accent);">github.com/settings/tokens</a>
                                </div>
                            </div>
                            <div id="settingsComputedUrl" style="font-size:11px; color:var(--text-dim); padding:4px 0;">
                            </div>
                        </div>
                    </div>

                    <!-- Telegram -->
                    <div style="background:var(--bg-card); border:1px solid var(--border); border-radius:var(--radius); padding:20px; margin-top:16px;">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                            <h3 style="font-size:14px; color:var(--text-bright);">âœˆï¸ Telegram</h3>
                            <span id="telegramStatus" style="font-size:11px; padding:3px 10px; border-radius:12px; font-weight:600;"></span>
                        </div>
                        <p style="font-size:12px; color:var(--text-dim); margin-bottom:14px;">
                            Receive agent questions (AskUserQuestion) in Telegram with clickable answer buttons.
                        </p>
                        <div style="display:flex; flex-direction:column; gap:12px;">
                            <div>
                                <label style="display:block; color:var(--text-dim); font-size:12px; margin-bottom:4px;">Bot Token (from @BotFather)</label>
                                <input type="password" id="settingsTelegramToken" placeholder="123456:ABC-DEF1234ghIkl-zyx57W2v..."
                                    style="width:100%; padding:8px 12px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-family:var(--mono); font-size:12px;">
                            </div>
                            <div>
                                <label style="display:block; color:var(--text-dim); font-size:12px; margin-bottom:4px;">Chat ID</label>
                                <input type="text" id="settingsTelegramChatId" placeholder="12345678"
                                    style="width:100%; padding:8px 12px; background:var(--bg-input); border:1px solid var(--border); border-radius:6px; color:var(--text); font-family:var(--mono); font-size:12px;">
                                <div style="font-size:10px; color:var(--text-dim); margin-top:4px;">
                                    Send /start to your bot, then get chat_id via <code style="background:var(--bg-input); padding:1px 4px; border-radius:3px;">https://api.telegram.org/bot&lt;TOKEN&gt;/getUpdates</code>
                                </div>
                            </div>
                            <div style="display:flex; gap:8px; margin-top:4px;">
                                <button class="btn primary" onclick="saveTelegramSettings()" style="font-size:12px;">Connect</button>
                                <button class="btn" onclick="testTelegram()" style="font-size:12px;">ğŸ§ª Test</button>
                                <button class="btn danger" onclick="disconnectTelegram()" style="font-size:12px;">Disconnect</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Agent Panel (right side) -->
    <div id="agentPanel" class="agent-panel" style="display:none;">
        <div class="agent-panel-header">
            <h3 id="agentPanelName">Agent</h3>
            <button class="agent-panel-close" onclick="closeAgentPanel()" title="Close panel">&times;</button>
        </div>
        <div class="agent-panel-tabs">
            <button class="agent-panel-tab active" data-tab="stream" onclick="switchPanelTab('stream')">Stream</button>
            <button class="agent-panel-tab" data-tab="config" onclick="switchPanelTab('config')">Config</button>
        </div>
        <!-- Stream tab -->
        <div class="agent-panel-stream" id="agentStreamTab">
            <div class="stream-empty" id="streamEmpty">
                <div>Send a message to see streaming output</div>
            </div>
            <div class="stream-content" id="streamContent"></div>
        </div>
        <!-- Config tab -->
        <div class="agent-panel-config" id="agentConfigTab" style="display:none;">
            <div class="config-group">
                <label>Model</label>
                <select id="cfgModel">
                    <option value="">Default</option>
                    <optgroup label="Claude">
                        <option value="opus">Claude Opus</option>
                        <option value="sonnet">Claude Sonnet</option>
                        <option value="haiku">Claude Haiku</option>
                    </optgroup>
                    <optgroup label="Cursor">
                        <option value="composer">Cursor Composer</option>
                    </optgroup>
                </select>
            </div>
            <div class="config-group">
                <label>Allowed Tools</label>
                <input type="text" id="cfgAllowedTools" placeholder="Read Edit Bash Write Glob Grep">
            </div>
            <div class="config-group">
                <label>Permission Mode</label>
                <select id="cfgPermissionMode">
                    <option value="bypassPermissions">Bypass Permissions</option>
                    <option value="acceptEdits">Accept Edits</option>
                    <option value="default">Default (ask everything)</option>
                    <option value="plan">Plan (read-only)</option>
                    <option value="dontAsk">Don't Ask</option>
                    <option value="delegate">Delegate</option>
                </select>
            </div>
            <div class="config-group">
                <label>Budget Limit ($)</label>
                <input type="number" id="cfgBudgetLimit" step="0.5" min="0" placeholder="10.0">
            </div>
            <div class="config-group">
                <label>Working Directory</label>
                <input type="text" id="cfgWorkdir" placeholder="C:\Project\Path">
            </div>
            <div class="config-group">
                <label>System Prompt File</label>
                <input type="text" id="cfgSystemPromptFile" placeholder=".tayfa/agent/prompt.md">
            </div>
            <div class="config-group">
                <label>System Prompt (inline)</label>
                <textarea id="cfgSystemPrompt" rows="6" placeholder="Agent system prompt..."></textarea>
            </div>
            <div class="config-group">
                <label>Sessions</label>
                <div id="cfgSessions" style="font-size:12px; color:var(--text-dim); font-family:var(--mono);"></div>
            </div>
            <div class="config-actions">
                <button class="btn primary sm" onclick="saveAgentConfig()">Save</button>
                <button class="btn sm" onclick="loadAgentConfig(currentAgent)">Reset</button>
                <button class="btn danger sm" onclick="resetAgentSession()">Clear Sessions</button>
            </div>
        </div>
    </div>
</div>

</div><!-- /mainApp -->

<!-- Modal -->
<div class="modal-overlay" id="modalOverlay">
    <div class="modal" id="modalContent" onclick="event.stopPropagation()">
        <h3 id="modalTitle">â€”</h3>
        <div id="modalBody"></div>
        <div class="btn-group" id="modalActions" style="margin-top: 16px;"></div>
    </div>
</div>

<script src="/static/js/state.js"></script>
<script src="/static/js/api.js"></script>
<script src="/static/js/theme.js"></script>
<script src="/static/js/projects.js"></script>
<script src="/static/js/settings.js"></script>
<script src="/static/js/agents.js"></script>
<script src="/static/js/agent-panel.js?v=2"></script>
<script src="/static/js/board.js"></script>
<script src="/static/js/sprints.js"></script>
<script src="/static/js/backlog.js"></script>
<script src="/static/js/git.js"></script>
<script src="/static/js/init.js"></script>

</body>
</html>
