[pytest]
# Конфигурация pytest для проекта Tayfa

# Автоматический режим для async тестов
asyncio_mode = auto

# Путь к директории с тестами
testpaths = tests

# Паттерн для поиска тестовых файлов
python_files = test_*.py

# Паттерн для поиска тестовых классов
python_classes = Test*

# Паттерн для поиска тестовых функций
python_functions = test_*

# Дополнительные опции командной строки по умолчанию
addopts =
    # Показывать детальный вывод
    -v
    # Показывать локальные переменные при ошибках
    --tb=short
    # Показывать покрытие кода (раскомментировать при необходимости)
    # --cov=kok
    # --cov-report=term-missing
    # --cov-report=html
    # Останавливать на первой ошибке (раскомментировать при необходимости)
    # -x
    # Строгие маркеры
    --strict-markers

# Маркеры для категоризации тестов
markers =
    slow: тесты, которые выполняются долго
    integration: интеграционные тесты
    unit: юнит-тесты
    api: тесты API endpoints
    settings: тесты настроек
    backlog: тесты работы с бэклогом
    employees: тесты работы с сотрудниками
    git: тесты Git интеграции

# Фильтры для предупреждений
filterwarnings =
    # Игнорировать deprecation warnings от зависимостей
    ignore::DeprecationWarning
    # Показывать все остальные warnings как ошибки (раскомментировать для строгости)
    # error

# Минимальное покрытие кода в процентах (раскомментировать при необходимости)
# [coverage:report]
# fail_under = 80
