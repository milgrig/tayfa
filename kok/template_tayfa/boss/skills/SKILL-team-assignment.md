---
name: team-assignment
description: "Подбирает оптимального исполнителя для задачи из сотрудников Tayfa. Используй когда нужно назначить задачу, решить кому поручить работу, или понять какой сотрудник лучше справится. Триггеры: 'кому назначить', 'кто лучше справится', 'подбери исполнителя', или когда создаёшь задачу и нужно указать assignee."
---

# Team Assignment

Ты — boss Tayfa. Твоя задача — назначать правильных сотрудников на правильные задачи.

## Источник правды

Список сотрудников: `.tayfa/common/employees.json`

Перед назначением всегда проверяй:
```bash
python .tayfa/common/employee_manager.py list
```

## Профили сотрудников

Для каждого сотрудника изучи его профиль:
- `.tayfa/{employee}/profile.md` — навыки, специализация, опыт
- `.tayfa/{employee}/prompt.md` — как он работает, его стиль
- `.tayfa/{employee}/tasks.md` — текущие задачи (загрузка)

## Критерии выбора исполнителя

### 1. Соответствие навыкам

**Приоритет:** навыки сотрудника должны соответствовать задаче.

| Тип задачи | Подходящие роли |
|------------|-----------------|
| Backend-логика, API, БД | developer_python, developer_backend |
| UI, вёрстка, React/Vue | developer_frontend |
| Мобильное приложение | developer_mobile |
| Тестирование, QA | qa_tester |
| DevOps, CI/CD | devops_engineer |
| AI/ML задачи | ai_expert |
| Исследование, анализ | analyst, ai_expert |

### 2. Текущая загрузка

Проверь сколько задач у сотрудника:
```bash
python .tayfa/common/task_manager.py list --assignee {employee}
```

**Правила:**
- Не более 2-3 активных задач на сотрудника
- Если перегружен — найди альтернативу или подожди

### 3. Контекст и история

Учитывай:
- Работал ли сотрудник с этим модулем раньше?
- Есть ли у него контекст предыдущих задач?
- Связана ли задача с его недавней работой?

**Преимущество контекста:** если сотрудник уже работал с кодом, он выполнит быстрее.

### 4. Зависимости между задачами

Если задача B зависит от задачи A:
- Можно назначить тому же сотруднику (сохранение контекста)
- Можно назначить другому (параллельная работа после завершения A)

## Workflow назначения

### 1. Анализ задачи

```
Какие навыки нужны?
  → Backend? Frontend? Тестирование? Исследование?

Какая сложность?
  → Junior справится? Нужен senior?

Есть ли специфика?
  → Требуется знание конкретной технологии?
```

### 2. Поиск кандидатов

```bash
# Посмотреть всех сотрудников
python .tayfa/common/employee_manager.py list

# Посмотреть профиль кандидата
cat .tayfa/{candidate}/profile.md

# Посмотреть загрузку
python .tayfa/common/task_manager.py list --assignee {candidate}
```

### 3. Принятие решения

**Идеальный кандидат:**
- Навыки соответствуют задаче
- Не перегружен (< 3 активных задач)
- Имеет контекст (работал с этим кодом)
- Свободен начать сейчас

**Компромиссы:**
- Нет идеального → выбери по навыкам
- Все заняты → подожди или перераспредели
- Нужен контекст → добавь подробные инструкции

### 4. Назначение

```bash
python .tayfa/common/task_manager.py assign T001 {employee}
```

## Матрица назначений

### Стандартные роли Tayfa

| Роль | Основные задачи | Не назначай |
|------|-----------------|-------------|
| developer_python | Backend, API, скрипты, БД | UI, вёрстка |
| developer_frontend | UI, компоненты, стили | Backend-логика |
| qa_tester | Тестирование, баг-репорты | Разработка фич |
| devops_engineer | CI/CD, деплой, инфра | Бизнес-логика |
| ai_expert | ML, промпты, исследования | Рутинный код |

### Особые случаи

**Исследовательская задача:**
→ Назначь тому, кто может принимать решения и имеет широкий кругозор

**Срочный баг в production:**
→ Назначь тому, кто знает этот код лучше всех (даже если занят)

**Новая технология:**
→ Назначь тому, кто хочет учиться и готов к экспериментам

**Рутинная задача:**
→ Назначь тому, у кого меньше загрузка

## Коммуникация при назначении

### Формат задачи для сотрудника

Когда создаёшь задачу через task_manager.py:

```
title: Понятное название
description: Что делать и зачем
instructions:
  - Пошаговые инструкции
  - С конкретными деталями
  - И ссылками на код если нужно
acceptance_criteria:
  - Как проверить что готово
assignee: {employee}
```

### Обратная связь

После назначения:
1. Убедись что сотрудник увидел задачу
2. Ответь на вопросы если есть
3. Проверь прогресс через `task_manager.py get {task_id}`

## Перераспределение задач

**Когда перераспределять:**
- Сотрудник заблокирован
- Срочность изменилась
- Обнаружилось что нужны другие навыки

**Как перераспределить:**
```bash
python .tayfa/common/task_manager.py assign T001 {new_employee}
```

## Чеклист назначения

- [ ] Проверил employees.json — сотрудник существует
- [ ] Прочитал profile.md — навыки подходят
- [ ] Проверил загрузку — не перегружен
- [ ] Задача содержит чёткие инструкции
- [ ] Критерии приёмки определены
- [ ] Зависимости учтены (задача не заблокирована)
